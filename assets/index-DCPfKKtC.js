import{_ as T,h as b,i as k,o as c,c as d,a as y,F as D,r as v,b as A,w as f,g as m,e as u,f as w,d as N,j as x,T as M}from"./index-CSAr512F.js";import S from"./Card-ChFAlGlA.js";const V=l=>{const e=Array.from(l);for(let s=e.length-1;s>0;s--){const o=Math.floor(Math.random()*(s+1));[e[s],e[o]]=[e[o],e[s]]}return e},h=["square","circle","leaf"],C=3,p=()=>{const l=Array.from({length:C},()=>h).flat();return V(l)},_=250,B={class:"wm-game"},O={class:"wm-cards"},R={name:"MemoryCardsView"},j=Object.assign(R,{setup(l){const e=b({shuffled:p(),flipped:new Map,matched:new Set,areDisabled:!1}),s=k(()=>e.matched.size===h.length),o=()=>{e.shuffled=p(),e.flipped.clear(),e.matched.clear(),e.areDisabled=!1},i=(a,r)=>(e.flipped.get(a)||[]).includes(r)||e.matched.has(a),g=(a,r)=>{const{flipped:t}=e;if(e.areDisabled||s.value||i(a,r))return;const n=[...t.get(a)??[],r];t.set(a,n),t.size>1?(e.areDisabled=!0,setTimeout(()=>{e.areDisabled=!1,t.clear()},_*3)):n.length===C&&setTimeout(()=>{e.matched.add(a),t.clear()},_)};return(a,r)=>(c(),d("div",B,[y("div",O,[(c(!0),d(D,null,v(e.shuffled,(t,n)=>(c(),m(u(S),{key:`card: ${n}`,type:t,"is-flipped":i(t,n),"is-matched":e.matched.has(t),onClick:z=>g(t,n)},null,8,["type","is-flipped","is-matched","onClick"]))),128))]),A(M,{appear:"",name:"slide-up",type:"transition",mode:"out-in"},{default:f(()=>[s.value?(c(),m(u(w),{key:0,size:"lg",onClick:o},{default:f(()=>r[0]||(r[0]=[N(" Restart ")])),_:1})):x("",!0)]),_:1})]))}}),I=T(j,[["__scopeId","data-v-fb05329b"]]);export{I as default};
